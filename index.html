<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üíó Acesso VIP ‚Äì Amor, s√≥ falta voc√™‚Ä¶ üí¶</title>
  <style>
    :root{
      --rosa:#ff69b4; --rosa2:#ff1493; --ciano:#00ffcc; --azul:#00bfff; --bg:#000; --texto:#fff;
    }
    *{box-sizing:border-box}
    body{
      margin:0; padding:0; font-family:'Segoe UI',system-ui,Roboto,Arial,sans-serif;
      color:var(--texto); background:var(--bg); overflow-x:hidden;
    }
    video.bg-video{
      position:fixed; inset:0; width:100vw; height:100vh; object-fit:cover; z-index:-1; filter:brightness(.2);
    }
    .container{max-width:960px; margin:0 auto; text-align:center; padding:40px 16px; position:relative; z-index:1}
    h1{
      font-size:2.4rem; line-height:1.2; margin:0 0 10px;
      color:var(--azul); text-shadow:0 0 10px var(--azul);
    }
    .sub{
      font-size:1.1rem; color:#ffc0cb; text-shadow:0 0 6px var(--rosa);
      margin-bottom:18px;
    }
    .urgente{
      display:inline-block; margin-top:6px; font-size:1.15rem; color:#ff3b3b;
      text-shadow:0 0 12px #ff0000; animation:piscar .85s infinite;
    }
    @keyframes piscar{0%{opacity:1}50%{opacity:.28}100%{opacity:1}}
    .card{
      background:rgba(255,255,255,.06); border:1px solid rgba(255,255,255,.12);
      backdrop-filter: blur(6px);
      padding:22px; border-radius:18px; margin:20px auto; max-width:780px; text-align:left;
      box-shadow:0 0 24px rgba(255, 20, 147,.15);
    }
    .tag{
      display:inline-block; font-size:.9rem; font-weight:700; padding:8px 12px; border-radius:999px;
      background:linear-gradient(90deg, var(--rosa2), var(--rosa)); color:#000; margin:0 6px 8px 0;
      box-shadow:0 0 14px var(--rosa2);
    }
    .live-banner{
      background:linear-gradient(90deg, var(--rosa2), var(--rosa));
      color:#000; padding:14px 16px; font-size:1.05rem; font-weight:800; border-radius:14px; margin-top:14px;
      box-shadow:0 0 18px var(--rosa2); animation:piscar 1s infinite;
    }
    .contador{
      margin:14px 0 0; font-size:1.2rem; background:rgba(255,255,255,.08);
      padding:10px 14px; border-radius:12px; display:inline-block; box-shadow:0 0 12px var(--rosa2);
    }
    label{display:block; margin:18px 0 8px; font-weight:700}
    input, textarea{
      width:100%; padding:14px 14px; margin:0 0 10px; border-radius:12px; border:1px solid rgba(255,255,255,.15);
      font-size:16px; color:#fff; background:rgba(255,255,255,.08); outline:none;
    }
    textarea{min-height:120px; resize:vertical}
    .row{display:flex; gap:12px; flex-wrap:wrap; align-items:center}
    button{
      background:linear-gradient(90deg, var(--rosa), var(--rosa2)); color:#fff; padding:16px 22px; margin:10px 0;
      border-radius:14px; font-weight:900; border:none; font-size:16px; cursor:pointer;
      transition:transform .18s, box-shadow .18s;
    }
    button:hover{transform:scale(1.06); box-shadow:0 0 20px var(--rosa2)}
    .btn-sec{background:#111; border:2px solid var(--rosa); font-weight:700}
    #statusPagamento{margin-top:10px; font-weight:800; color:var(--ciano)}
    .badge-seguro{
      background-color:var(--ciano); color:#000; padding:10px 18px; border-radius:12px; display:inline-block;
      margin-top:16px; font-weight:900; box-shadow:0 0 15px var(--ciano);
    }
    .notificacao{
      position:fixed; bottom:10px; left:10px; background:#111; color:#fff; padding:12px 20px; border-radius:10px; font-size:14px; opacity:0; animation:aparecer 8s infinite;
    }
    @keyframes aparecer{0%{opacity:0}5%{opacity:1}95%{opacity:1}100%{opacity:0}}
    .rodape{
      margin:26px 0 6px; opacity:.9; font-size:.95rem; text-align:center;
    }
  </style>
</head>
<body>
  <video class="bg-video" autoplay muted loop playsinline>
    <source src="https://paygrupoviip.vercel.app/video.mp4" type="video/mp4">
  </video>

  <div class="container">
    <h1>Amor, s√≥ falta essa parte aqui pra ti‚Ä¶</h1>
    <p class="sub">t√¥ te esperando aqui <strong>molhadinha</strong>, do jeitinho que voc√™ gosta üíã</p>
    <span class="urgente">‚ö†Ô∏è √öltimas vagas ao vivo ‚Äî entra agora</span>

    <div class="live-banner">üé• LIVE rolando AGORA no VIP: sem censura, joguinhos, sussurros no teu ouvido, POV e surpresa pra quem entrar primeiro</div>
    <div class="contador" id="timer">Expira em: 04:59</div>

    <div class="card">
      <div style="margin-bottom:8px">
        <span class="tag">üî• Sem censura</span>
        <span class="tag">üéß √Åudio no teu nome</span>
        <span class="tag">üíå Pack exclusivo</span>
        <span class="tag">üïí Privadinho comigo</span>
      </div>

      <label for="valor">üí∏ Quanto voc√™ quer investir no SEU prazer?</label>
      <input type="text" id="valor" placeholder="Ex: 9,99 ou 9R$ ou s√≥ 9">

      <div class="row">
        <button id="btnGerar" onclick="gerarPix()">üí• Liberar Acesso VIP</button>
        <button class="btn-sec" onclick="verificarPagamento()">üîÑ Verificar Pagamento</button>
      </div>

      <label for="codigoPix">üìã Copie o PIX gerado abaixo:</label>
      <textarea id="codigoPix" readonly></textarea>
      <div class="row">
        <button class="btn-sec" onclick="copiarPix()">üìé Copiar C√≥digo</button>
      </div>

      <div id="statusPagamento">‚è≥ C√≥digo gerado‚Ä¶ s√≥ falta voc√™ liberar o proibido</div>
      <div class="badge-seguro">üîê Verificado | Seguro | Nenhum dado √© armazenado</div>
    </div>

    <p class="rodape"><em>N√£o me decepcione‚Ä¶ vamos gozar juntos.</em> üíû</p>
  </div>

  <div class="notificacao" id="notificacao"></div>

  <script>
    // ================== CONFIG ==================
    // Substitua pelo seu token real com seguran√ßa (N√ÉO exponha em produ√ß√£o)
    const token = "23732|c0FIWk5G62or5b9HMKv9pS3gtPF4UMPXGAx9pN7i50199b6a";
    // ============================================

    let transacaoID = "";
    let valorOriginal = 0;
    let tempo = 299;
    const timerEl = document.getElementById("timer");

    function normalizarValor(valorStr) {
      if (!valorStr) return null;
      valorStr = valorStr.replace(/r\$|reais|real| /gi, "").replace(",", ".");
      const numero = parseFloat(valorStr);
      return isNaN(numero) ? null : Math.round(numero * 100);
    }

    function gerarPix() {
      const valorTexto = document.getElementById("valor").value;
      const valorCentavos = normalizarValor(valorTexto);
      valorOriginal = valorCentavos;

      if (valorCentavos === null || valorCentavos < 100) {
        alert("‚ö†Ô∏è Digite um valor v√°lido! M√≠nimo R$1,00");
        return;
      }

      document.getElementById("statusPagamento").innerText = "‚è≥ Gerando seu c√≥digo exclusivo...";

      fetch("https://api.pushinpay.com.br/api/pix/cashIn", {
        method: "POST",
        headers: {
          "Authorization": "Bearer " + token,
          "Accept": "application/json",
          "Content-Type": "application/json"
        },
        body: JSON.stringify({
          value: valorCentavos,
          webhook_url: ""
        })
      })
      .then(res => res.json())
      .then(json => {
        if (!json || json.error) {
          document.getElementById("codigoPix").value = "Erro ao gerar PIX.";
          document.getElementById("statusPagamento").innerText = "‚ùå Tenta novamente.";
          return;
        }
        transacaoID = json.id;
        document.getElementById("codigoPix").value = json.qr_code || "Erro: QR n√£o recebido.";
        document.getElementById("statusPagamento").innerText = "üí∏ PIX gerado. Libera antes que expire‚Ä¶";
      })
      .catch(() => {
        document.getElementById("statusPagamento").innerText = "‚ùå Erro de conex√£o. Tenta de novo.";
      });
    }

    function verificarPagamento() {
      if (!transacaoID) { alert("üö´ Nenhuma transa√ß√£o ativa"); return; }

      fetch(`https://api.pushinpay.com.br/api/transactions/${transacaoID}`, {
        method: "GET",
        headers: {
          "Authorization": "Bearer " + token,
          "Accept": "application/json"
        }
      })
      .then(res => res.json())
      .then(json => {
        if (!json) return;
        if (json.status === "paid") {
          if (valorOriginal < 990) {
            window.location.href = "https://memimadireito.vercel.app/";
          } else {
            document.getElementById("statusPagamento").innerText = "‚úÖ Pagamento confirmado! Liberando seu acesso VIP‚Ä¶";
            setTimeout(() => { window.location.href = "entrega.html"; }, 1800);
          }
        } else {
          document.getElementById("statusPagamento").innerText = `‚è≥ Status: ${json.status}`;
        }
      })
      .catch(() => {
        document.getElementById("statusPagamento").innerText = "‚ùå N√£o consegui confirmar. Tenta de novo.";
      });
    }

    async function copiarPix() {
      const codigo = document.getElementById("codigoPix").value;
      if (!codigo) { alert("Nada para copiar ainda."); return; }
      try {
        await navigator.clipboard.writeText(codigo);
        alert("‚úÖ PIX copiado! Paga agora e vem cair no proibido üîû");
      } catch {
        // fallback
        const ta = document.getElementById("codigoPix");
        ta.select(); document.execCommand("copy");
        alert("‚úÖ PIX copiado! Paga agora e vem cair no proibido üîû");
      }
    }

    // Notifica√ß√µes rotativas (social proof)
    const notificacoes = [
      "Lucas acabou de virar VIP e entrou comigo ao vivo‚Ä¶",
      "Bruno liberou o acesso e t√° na cama comigo agora!",
      "Thiago entrou no grupo secreto üî•",
      "Rafael t√° aproveitando o conte√∫do sem censura üòè",
      "Henrique virou VIP e j√° est√° online na live!",
      "Caio ativou o acesso completo ‚Äì AO VIVO comigo",
      "Matheus entrou na sala privada agora mesmo",
      "Jo√£o desbloqueou tudo e j√° t√° l√° dentro!",
      "Felipe fez o PIX e virou VIP em segundos",
      "Andr√© se conectou na transmiss√£o secreta",
      "Pedro entrou na chamada proibida",
      "Diego t√° no quarto privado comigo üòà"
    ];
    let notiIndex = 0;
    setInterval(() => {
      const notiDiv = document.getElementById("notificacao");
      notiDiv.textContent = notificacoes[notiIndex];
      notiDiv.style.opacity = 1;
      notiIndex = (notiIndex + 1) % notificacoes.length;
    }, 8000);

    // Timer regressivo com rein√≠cio
    setInterval(() => {
      if (tempo > 0) {
        let min = Math.floor(tempo / 60);
        let seg = tempo % 60;
        timerEl.textContent = `Expira em: ${String(min).padStart(2,'0')}:${String(seg).padStart(2,'0')}`;
        tempo--;
      } else {
        tempo = 299;
      }
    }, 1000);
  </script>
</body>
</html>
